{% extends "dashboard_base.html" %}
{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-7 col-md-9">

      <h2 class="text-center mb-5 heading">Join the league of users that trust our programs</h2>

      <!-- Order Summary -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Order Summary</h5>
          <p class="mb-1"><strong>Program:</strong> {{ program.name }}</p>
          <p><strong>Price:</strong> ₦{{ "{:,.0f}".format(program.price) }}</p>
        </div>
      </div>

      <!-- User Details Form (read-only) -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Customer Details</h5>
          <form method="post" action="{{ url_for('confirm_payment', sub_id=subscription.id) }}" class="needs-validation" novalidate>
            <div class="form-data">
              <div class="mb-3">
                <label for="first_name" class="form-label">First Name:</label>
                <input type="text" id="first_name" class="form-control" value="{{ current_user.first_name }}" readonly>
              </div>
              <div class="mb-3">
                <label for="last_name" class="form-label">Last Name:</label>
                <input type="text" id="last_name" class="form-control" value="{{ current_user.last_name }}" readonly>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email Address:</label>
                <input type="email" id="email" class="form-control" value="{{ current_user.email }}" readonly>
              </div>
              <div class="mb-3">
                <label for="town" class="form-label">Town / City:</label>
                <input type="text" id="town" name="town" class="form-control">
              </div>
              <div class="mb-3">
                <label for="country" class="form-label">Country:</label>
                <input type="text" id="country" name="country" class="form-control">
              </div>
              <div class="mb-3">
                <label for="phone" class="form-label">Phone Number:</label>
                <input type="text" id="phone" name="phone" class="form-control">
              </div>
            </div>


            <!-- Payment Details -->
            <div class="card mb-4 shadow-sm">
              <div class="card-body">
                <h5 class="card-title mb-4 text-center">Payment Details</h5>
                <p class="text-center fs-5 mb-4">
                  Pay <strong class="text-success">₦{{ "{:,.0f}".format(program.price) }}</strong> to the account below:
                </p>
                <ul class="list-group mb-4">
                  <li class="list-group-item d-flex justify-content-between">
                    <span><strong>Bank:</strong></span> <span>Zenith Bank</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <span><strong>Account Name:</strong></span> <span>Damascus Projects</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <span><strong>Account Number:</strong></span> <span>1234567890</span>
                  </li>
                </ul>
              </div>
            </div>

            <button type="submit" class="d-grid form-control btn btn-primary btn-lg">
              I Have Made Payment
            </button>
            </div>
          </form>

        </div>
      </div>

      

      <p class="mt-3 text-center small">
        Once payment is confirmed, you'll be notified via your dashboard and email.
      </p>
    </div>
  </div>
</div>

<style>
  .card {
    animation: fadeIn 0.6s ease;
  }
  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(20px);}
    to {opacity: 1; transform: translateY(0);}
  }
</style>
{% endblock %}
